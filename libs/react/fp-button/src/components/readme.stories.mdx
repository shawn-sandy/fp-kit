import { Meta } from "@storybook/addon-docs"

<Meta title="Elements/Buttons/Readme" />

# FPKIT Button(s)

> A lightweight react headless UI primitive for creating button elements/components that leverage CSS custom properties for reactive Styles

## FirstPaint (Addon CSS library)

Built in support for FirstPaint a modern, performance first, easy to use, accessible CSS/SCSS micro framework that focuses on CSS custom properties and Semantic HTML over class heavy styling [more info](https://firstpaint.dev)

---

### Install the button component

```bash
npm i @fp-kit/fp-button
```

### Simple example for on click event

- Handles your regular `onClick` event and passes the event object to the callback function.
- Note `onClik` events are not fully suported by all devices.
- Use the `PointerEvent` for more consistent support.

```jsx live

import { Button } from "@fp-kit/fp-btn"
const [count, setCount] = useState(0)
...
<p>
  <Button type="button" onClick={() => setCount((count) => count + 1)}>count is: {count}</Button>
</p>

```

#### Example with PointerDown event, pointer events allows support for mobile and touch devices.

- Both `PointerDown` and `onPointerOver` events are supported.
- Pass aditional `events` using `...props`

```jsx live
import { Button } from "@fp-kit/fp-btn"
const [count, setCount] = useState(0)
...
<p>
  <Button type="button" onPointerDown={(e) => setCount((count) => count + 1)}>count is: {count}</Button>

</p>
```

### Aria disabled example

- Replace the button disabaled attribute with `aria-disabled` for better accessibility support.

```jsx
import { Button } from "@fp-kit/fp-btn"
const [count, setCount] = useState(0)
...
<p>
  <Button type="button" aria-disabled="true" onClick={() => setCount((count) => count + 1)}>count is: {count}</Button>
</p>

```

### Button (src)

```jsx
import React from "react"

/* Defining the props that the Button component will take. */
export interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  /**
   * The type of the button.
   */
  type: "button" | "submit" | "reset"

  /**
   * Button label/content
   */
  children: React.ReactNode
  /**
   * Button styles and props
   */
  styles?: object
  /**
   * button classes
   */
  classes?: string
  /**
   * default button styles
   */
  defaultStyles?: boolean
}

const Button = ({
  type,
  children,
  styles,
  disabled,
  classes,
  onPointerDown,
  onPointerOver,
  defaultStyles = true,

  ...props
}: ButtonProps) => {
  const defStyles = {
    paddingInline: "var(--btn-px, 1.4rem)",
    paddingBlock: "var(--btn-py, 0.8rem)",
    display: "var(--btn-dsp, inline-flex)",
    placeItems: "var(--btn-place, center)",
    justifyContent: "var(--btn-justify, center)",
    cursor: "var(--btn-cursor, pointer)",
    border: "var(--btn-border, none)",
    color: "var(--btn-color, black)",
    backgroundColor: "var(--btn-bg, lightgray)",
  }

  const stylesObj = defaultStyles ? defStyles : {};



 /**
  * If the button is not disabled, then call the onClick function
  */
  const handleClick = (e: React.PointerEvent<HTMLButtonElement>) => {
    if(!disabled) {
      onClick?.(e)
    }
  }

/**
 * A function that returns a function.
 */
  const handleHover = (e: React.PointerEvent<HTMLButtonElement>) => {
    onMouseOver?.(e)
  }

/* Returning a button element. */
  return (
    <button
      type={type}
      onPointerOver={handleHover}
      onPointerDown={handleClick}
      style={{...stylesObj, ...styles }}
      aria-disabled={disabled}
      {...props}
    >
      {children}
    </button>
  )
}

export default Button


```
